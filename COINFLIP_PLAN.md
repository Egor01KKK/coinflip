# CoinFlip - Base Mini App

## Ğ¦ĞµĞ»ÑŒ
Ğ¡Ğ¾Ğ·Ğ´Ğ°Ñ‚ÑŒ **CoinFlip** â€” Ğ¿Ñ€Ğ¾ÑÑ‚ÑƒÑ Ğ¸Ğ³Ñ€Ñƒ ĞºĞ°Ğº Base Mini App, Ğ³Ğ´Ğµ ĞºĞ°Ğ¶Ğ´Ñ‹Ğ¹ Ñ„Ğ»Ğ¸Ğ¿ = Ñ‚Ñ€Ğ°Ğ½Ğ·Ğ°ĞºÑ†Ğ¸Ñ Ğ½Ğ° Base. Ğ‘ĞµĞ· Ñ€ĞµĞ°Ğ»ÑŒĞ½Ñ‹Ñ… Ğ´ĞµĞ½ĞµĞ³, Ñ‚Ğ¾Ğ»ÑŒĞºĞ¾ Ğ¾Ñ‡ĞºĞ¸ Ğ¸ streaks.

**ĞĞ°Ğ·Ğ²Ğ°Ğ½Ğ¸Ğµ**: CoinFlip
**UI ÑÑ‚Ğ¸Ğ»ÑŒ**: Pixel/Retro (ĞºĞ°Ğº Ğ² King of the Base)
**Ğ¡ĞµÑ‚ÑŒ**: Base Sepolia â†’ Base Mainnet

## ĞŸĞ¾Ñ‡ĞµĞ¼Ñƒ ÑÑ‚Ğ¾ Ñ€Ğ°Ğ±Ğ¾Ñ‚Ğ°ĞµÑ‚ Ğ´Ğ»Ñ Ğ½Ğ°Ğ±Ğ¸Ğ²ĞºĞ¸ Ñ‚Ñ€Ğ°Ğ½Ğ·Ğ°ĞºÑ†Ğ¸Ğ¹
- ĞšĞ°Ğ¶Ğ´Ñ‹Ğ¹ flip = 1 Ñ‚Ñ€Ğ°Ğ½Ğ·Ğ°ĞºÑ†Ğ¸Ñ (ĞºĞ¾Ğ¿ĞµĞµÑ‡Ğ½Ñ‹Ğ¹ Ğ³Ğ°Ğ· ~$0.001)
- ĞĞ·Ğ°Ñ€Ñ‚Ğ½Ğ°Ñ Ğ¼ĞµÑ…Ğ°Ğ½Ğ¸ĞºĞ° â†’ ÑĞ·ĞµÑ€Ñ‹ Ñ„Ğ»Ğ¸Ğ¿Ğ°ÑÑ‚ Ğ¼Ğ½Ğ¾Ğ³Ğ¾ Ñ€Ğ°Ğ·
- Streaks â†’ ÑĞ¾Ñ€ĞµĞ²Ğ½Ğ¾Ğ²Ğ°Ğ½Ğ¸Ğµ "ĞºÑ‚Ğ¾ ÑƒĞ³Ğ°Ğ´Ğ°ĞµÑ‚ Ğ±Ğ¾Ğ»ÑŒÑˆĞµ Ğ¿Ğ¾Ğ´Ñ€ÑĞ´"
- Ğ’Ğ¸Ñ€ÑƒÑĞ½Ğ¾ Ğ´Ğ»Ñ Twitter: "I just hit a 15 flip streak on CoinFlip!"

---

## ĞÑ€Ñ…Ğ¸Ñ‚ĞµĞºÑ‚ÑƒÑ€Ğ°

### Smart Contract (CoinFlip.sol)
```solidity
// ĞÑĞ½Ğ¾Ğ²Ğ½Ñ‹Ğµ Ñ„ÑƒĞ½ĞºÑ†Ğ¸Ğ¸:
- flip(bool guessHeads) â†’ Ğ·Ğ°Ğ¿Ğ¸ÑÑ‹Ğ²Ğ°ĞµÑ‚ Ñ„Ğ»Ğ¸Ğ¿, Ğ²Ğ¾Ğ·Ğ²Ñ€Ğ°Ñ‰Ğ°ĞµÑ‚ Ñ€ĞµĞ·ÑƒĞ»ÑŒÑ‚Ğ°Ñ‚
- getPlayerStats(address) â†’ wins, losses, currentStreak, maxStreak, totalFlips
- getLeaderboard() â†’ Ñ‚Ğ¾Ğ¿ Ğ¸Ğ³Ñ€Ğ¾ĞºĞ¾Ğ² Ğ¿Ğ¾ maxStreak

// Ğ¥Ñ€Ğ°Ğ½ĞµĞ½Ğ¸Ğµ:
- mapping(address => PlayerStats) stats
- address[] topPlayers (Ğ´Ğ»Ñ leaderboard)

// Ğ Ğ°Ğ½Ğ´Ğ¾Ğ¼:
- ĞŸÑ€Ğ¾ÑÑ‚Ğ¾Ğ¹ Ğ¿ÑĞµĞ²Ğ´Ğ¾-Ñ€Ğ°Ğ½Ğ´Ğ¾Ğ¼ (blockhash) - Ğ´Ğ¾ÑÑ‚Ğ°Ñ‚Ğ¾Ñ‡Ğ½Ğ¾ Ğ´Ğ»Ñ Ğ¸Ğ³Ñ€Ñ‹ Ğ±ĞµĞ· Ğ´ĞµĞ½ĞµĞ³
```

### Frontend (Next.js Mini App)
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Header: Streak ğŸ”¥ 7 | Best: 12      â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                     â”‚
â”‚         [ĞĞ½Ğ¸Ğ¼Ğ°Ñ†Ğ¸Ñ Ğ¼Ğ¾Ğ½ĞµÑ‚ĞºĞ¸]          â”‚
â”‚              ğŸª™                      â”‚
â”‚                                     â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚   [HEADS]          [TAILS]          â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Leaderboard | Share                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## Ğ¢ĞµÑ…Ğ½Ğ¾Ğ»Ğ¾Ğ³Ğ¸Ğ¸

- **Scaffold**: `npx create-onchain --mini` (MiniKit template)
- **Blockchain**: Base Sepolia â†’ Base Mainnet
- **SDK**: OnchainKit + MiniKit
- **Wallet**: Ğ²ÑÑ‚Ñ€Ğ¾ĞµĞ½Ğ½Ñ‹Ğ¹ Ğ² Base App
- **ĞšĞ¾Ğ½Ñ‚Ñ€Ğ°ĞºÑ‚**: Foundry Ğ´Ğ»Ñ Ğ´ĞµĞ¿Ğ»Ğ¾Ñ

---

## ĞŸĞ»Ğ°Ğ½ Ñ€ĞµĞ°Ğ»Ğ¸Ğ·Ğ°Ñ†Ğ¸Ğ¸

### Ğ”ĞµĞ½ÑŒ 1: ĞšĞ¾Ğ½Ñ‚Ñ€Ğ°ĞºÑ‚ + Ğ‘Ğ°Ğ·Ğ¾Ğ²Ñ‹Ğ¹ UI

**1.1 Ğ¡Ğ¾Ğ·Ğ´Ğ°Ñ‚ÑŒ Mini App Ğ¿Ñ€Ğ¾ĞµĞºÑ‚**
- `npx create-onchain --mini`
- ĞĞ°ÑÑ‚Ñ€Ğ¾Ğ¸Ñ‚ÑŒ ĞºĞ¾Ğ½Ñ„Ğ¸Ğ³ Ğ´Ğ»Ñ Base

**1.2 ĞĞ°Ğ¿Ğ¸ÑĞ°Ñ‚ÑŒ ÑĞ¼Ğ°Ñ€Ñ‚-ĞºĞ¾Ğ½Ñ‚Ñ€Ğ°ĞºÑ‚ CoinFlip.sol**
- Ğ¤ÑƒĞ½ĞºÑ†Ğ¸Ñ flip() Ñ Ğ¿Ñ€Ğ¾ÑÑ‚Ñ‹Ğ¼ Ñ€Ğ°Ğ½Ğ´Ğ¾Ğ¼Ğ¾Ğ¼
- Ğ¡Ñ‚Ğ°Ñ‚Ğ¸ÑÑ‚Ğ¸ĞºĞ° Ğ¸Ğ³Ñ€Ğ¾ĞºĞ°
- Ğ¡Ğ¾Ğ±Ñ‹Ñ‚Ğ¸Ñ FlipResult

**1.3 Ğ‘Ğ°Ğ·Ğ¾Ğ²Ñ‹Ğ¹ UI**
- ĞšĞ½Ğ¾Ğ¿ĞºĞ¸ HEADS/TAILS
- ĞÑ‚Ğ¾Ğ±Ñ€Ğ°Ğ¶ĞµĞ½Ğ¸Ğµ Ñ€ĞµĞ·ÑƒĞ»ÑŒÑ‚Ğ°Ñ‚Ğ°
- Ğ¡Ñ‡Ñ‘Ñ‚Ñ‡Ğ¸Ğº streak

### Ğ”ĞµĞ½ÑŒ 2: ĞŸĞ¾Ğ»Ğ¸Ñ€Ğ¾Ğ²ĞºĞ° + Ğ¤Ğ¸Ñ‡Ğ¸

**2.1 ĞĞ½Ğ¸Ğ¼Ğ°Ñ†Ğ¸Ñ Ğ¼Ğ¾Ğ½ĞµÑ‚ĞºĞ¸**
- CSS Ğ°Ğ½Ğ¸Ğ¼Ğ°Ñ†Ğ¸Ñ flip
- Ğ—Ğ²ÑƒĞºĞ¾Ğ²Ñ‹Ğµ ÑÑ„Ñ„ĞµĞºÑ‚Ñ‹ (Ğ¾Ğ¿Ñ†Ğ¸Ğ¾Ğ½Ğ°Ğ»ÑŒĞ½Ğ¾)

**2.2 Leaderboard**
- Ğ¢Ğ¾Ğ¿ Ğ¿Ğ¾ max streak
- Polling ĞºĞ°Ğ¶Ğ´Ñ‹Ğµ 5 ÑĞµĞº

**2.3 Share Ñ„ÑƒĞ½ĞºÑ†Ğ¸Ğ¾Ğ½Ğ°Ğ»**
- Share Ğ² Farcaster (composeCast)
- Share Ğ² Twitter
- Ğ¢ĞµĞºÑÑ‚: "I just hit a 12 flip streak on CoinFlip!"

**2.4 Ğ”ĞµĞ¿Ğ»Ğ¾Ğ¹**
- ĞšĞ¾Ğ½Ñ‚Ñ€Ğ°ĞºÑ‚ Ğ½Ğ° Base Sepolia (Ñ‚ĞµÑÑ‚)
- ĞšĞ¾Ğ½Ñ‚Ñ€Ğ°ĞºÑ‚ Ğ½Ğ° Base mainnet (Ğ¿Ñ€Ğ¾Ğ´)
- ĞŸÑ€Ğ¸Ğ»Ğ¾Ğ¶ĞµĞ½Ğ¸Ğµ Ğ½Ğ° Vercel
- Ğ ĞµĞ³Ğ¸ÑÑ‚Ñ€Ğ°Ñ†Ğ¸Ñ Ğ² Base App

---

## ĞšĞ»ÑÑ‡ĞµĞ²Ñ‹Ğµ Ñ„Ğ°Ğ¹Ğ»Ñ‹

```
coin-flip/
â”œâ”€â”€ contracts/
â”‚   â””â”€â”€ src/CoinFlip.sol          # Ğ¡Ğ¼Ğ°Ñ€Ñ‚-ĞºĞ¾Ğ½Ñ‚Ñ€Ğ°ĞºÑ‚
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ app/
â”‚   â”‚   â”œâ”€â”€ page.tsx              # Ğ“Ğ»Ğ°Ğ²Ğ½Ğ°Ñ ÑÑ‚Ñ€Ğ°Ğ½Ğ¸Ñ†Ğ°
â”‚   â”‚   â”œâ”€â”€ layout.tsx            # Layout Ñ Ğ¿Ñ€Ğ¾Ğ²Ğ°Ğ¹Ğ´ĞµÑ€Ğ°Ğ¼Ğ¸
â”‚   â”‚   â””â”€â”€ providers.tsx         # MiniKit + Wagmi Ğ¿Ñ€Ğ¾Ğ²Ğ°Ğ¹Ğ´ĞµÑ€Ñ‹
â”‚   â”œâ”€â”€ components/
â”‚   â”‚   â”œâ”€â”€ Coin.tsx              # ĞĞ½Ğ¸Ğ¼Ğ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ½Ğ°Ñ Ğ¼Ğ¾Ğ½ĞµÑ‚ĞºĞ°
â”‚   â”‚   â”œâ”€â”€ FlipButtons.tsx       # ĞšĞ½Ğ¾Ğ¿ĞºĞ¸ HEADS/TAILS
â”‚   â”‚   â”œâ”€â”€ Stats.tsx             # Ğ¡Ñ‚Ğ°Ñ‚Ğ¸ÑÑ‚Ğ¸ĞºĞ° Ğ¸Ğ³Ñ€Ğ¾ĞºĞ°
â”‚   â”‚   â”œâ”€â”€ Leaderboard.tsx       # Ğ¢Ğ¾Ğ¿ Ğ¸Ğ³Ñ€Ğ¾ĞºĞ¾Ğ²
â”‚   â”‚   â””â”€â”€ ShareButton.tsx       # Ğ¨Ğ°Ñ€Ğ¸Ğ½Ğ³
â”‚   â”œâ”€â”€ hooks/
â”‚   â”‚   â”œâ”€â”€ useFlip.ts            # Ğ¥ÑƒĞº Ğ´Ğ»Ñ Ñ‚Ñ€Ğ°Ğ½Ğ·Ğ°ĞºÑ†Ğ¸Ğ¸ flip
â”‚   â”‚   â””â”€â”€ usePlayerStats.ts     # Ğ¥ÑƒĞº Ğ´Ğ»Ñ ÑÑ‚Ğ°Ñ‚Ğ¸ÑÑ‚Ğ¸ĞºĞ¸
â”‚   â””â”€â”€ lib/
â”‚       â”œâ”€â”€ contract.ts           # ABI + Ğ°Ğ´Ñ€ĞµÑ ĞºĞ¾Ğ½Ñ‚Ñ€Ğ°ĞºÑ‚Ğ°
â”‚       â””â”€â”€ constants.ts          # ĞšĞ¾Ğ½ÑÑ‚Ğ°Ğ½Ñ‚Ñ‹
â””â”€â”€ package.json
```

---

## Ğ’ĞµÑ€Ğ¸Ñ„Ğ¸ĞºĞ°Ñ†Ğ¸Ñ

1. **ĞšĞ¾Ğ½Ñ‚Ñ€Ğ°ĞºÑ‚**: ĞŸÑ€Ğ¾Ñ‚ĞµÑÑ‚Ğ¸Ñ€Ğ¾Ğ²Ğ°Ñ‚ÑŒ flip() Ğ½Ğ° Base Sepolia
2. **UI**: ĞŸÑ€Ğ¾Ğ²ĞµÑ€Ğ¸Ñ‚ÑŒ Ğ°Ğ½Ğ¸Ğ¼Ğ°Ñ†Ğ¸Ñ Ğ¼Ğ¾Ğ½ĞµÑ‚ĞºĞ¸ Ğ¸ Ñ‚Ñ€Ğ°Ğ½Ğ·Ğ°ĞºÑ†Ğ¸Ğ¸
3. **Leaderboard**: Ğ£Ğ±ĞµĞ´Ğ¸Ñ‚ÑŒÑÑ Ñ‡Ñ‚Ğ¾ Ğ¾Ğ±Ğ½Ğ¾Ğ²Ğ»ÑĞµÑ‚ÑÑ
4. **Share**: ĞŸÑ€Ğ¾Ğ²ĞµÑ€Ğ¸Ñ‚ÑŒ Ñ‡Ñ‚Ğ¾ Ğ¾Ñ‚ĞºÑ€Ñ‹Ğ²Ğ°ĞµÑ‚ Farcaster/Twitter
5. **Mobile**: Ğ¢ĞµÑÑ‚ Ğ² Base App Ñ‡ĞµÑ€ĞµĞ· base.dev/preview

---

## Ğ˜Ñ‚Ğ¾Ğ³Ğ¾

**Ğ§Ñ‚Ğ¾ Ğ¿Ğ¾Ğ»ÑƒÑ‡Ğ¸Ñ‚ÑÑ:**
- ĞŸÑ€Ğ¾ÑÑ‚Ğ°Ñ, Ğ·Ğ°Ğ»Ğ¸Ğ¿Ğ°Ñ‚ĞµĞ»ÑŒĞ½Ğ°Ñ Ğ¸Ğ³Ñ€Ğ° Ñ Ğ°Ğ·Ğ°Ñ€Ñ‚Ğ½Ğ¾Ğ¹ Ğ¼ĞµÑ…Ğ°Ğ½Ğ¸ĞºĞ¾Ğ¹
- ĞšĞ°Ğ¶Ğ´Ñ‹Ğ¹ Ñ„Ğ»Ğ¸Ğ¿ = onchain Ñ‚Ñ€Ğ°Ğ½Ğ·Ğ°ĞºÑ†Ğ¸Ñ (Ğ²Ğ°Ğ¶Ğ½Ğ¾ Ğ´Ğ»Ñ airdrop ÑÑ‚Ğ°Ñ‚Ğ¸ÑÑ‚Ğ¸ĞºĞ¸)
- Pixel/retro ÑÑ‚Ğ¸Ğ»ÑŒ ĞºĞ°Ğº Ğ² KotB
- Leaderboard Ğ´Ğ»Ñ ÑĞ¾Ñ€ĞµĞ²Ğ½Ğ¾Ğ²Ğ°Ğ½Ğ¸Ñ
- Share Ğ´Ğ»Ñ Ğ²Ğ¸Ñ€ÑƒÑĞ½Ğ¾ÑÑ‚Ğ¸ Ğ² Twitter/Farcaster

**ĞœĞ¾Ğ¶Ğ½Ğ¾ ÑĞ´ĞµĞ»Ğ°Ñ‚ÑŒ Ğ·Ğ° 2 Ğ´Ğ½Ñ** Ğ±Ğ»Ğ°Ğ³Ğ¾Ğ´Ğ°Ñ€Ñ:
- Ğ“Ğ¾Ñ‚Ğ¾Ğ²Ğ¾Ğ¼Ñƒ MiniKit template
- ĞŸÑ€Ğ¾ÑÑ‚Ğ¾Ğ¼Ñƒ ĞºĞ¾Ğ½Ñ‚Ñ€Ğ°ĞºÑ‚Ñƒ (Ğ¾Ğ´Ğ½Ğ° Ñ„ÑƒĞ½ĞºÑ†Ğ¸Ñ flip)
- ĞŸĞµÑ€ĞµĞ¸ÑĞ¿Ğ¾Ğ»ÑŒĞ·Ğ¾Ğ²Ğ°Ğ½Ğ¸Ñ ÑÑ‚Ğ¸Ğ»ĞµĞ¹ Ğ¸Ğ· KotB
